<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

<body>

  <metal:body fill-slot="body"
      tal:define="
        show_border nothing;
        data view/data;
        "
      >

    <h1 class="documentFirstHeading">My subscriptions</h1>

      <h2>Requests</h2>

      <tal:defineRequests tal:define="requests data/requests | nothing">
        <p tal:condition="not: requests">
          You have no pending subscription requests.
        </p>

        <tal:ifRequests tal:condition="requests" tal:omit-tag="">
          <p tal:repeat="request requests">
            <a tal:attributes="href request/url"
                tal:content="request/title"
                >[Title]</a>
            <span class="description" tal:content="request/description" />
            <br />
          </p>
        </tal:ifRequests>

      </tal:defineRequests>

      <h2>Subscriptions</h2>

      <tal:defineSubscriptions tal:define="subscriptions data/subscriptions | nothing">

        <p tal:condition="not: subscriptions">
          You're not subscribed to any Section.
        </p>

        <tal:ifSubscriptions tal:condition="subscriptions" tal:omit-tag="">
          <p tal:repeat="subscription subscriptions">
            <a tal:attributes="href subscription/url"
                tal:content="subscription/title"
                >[Title]</a>
            <span class="description" tal:content="subscription/description" />
            <br />
          </p>
        </tal:ifSubscriptions>

      </tal:defineSubscriptions>

  </metal:body>

</body>
</html>

